NAME               FCDATA

SUBTTL             DATA

PAGE 60,132

;***************************************************************************
;
;                  COPYRIGHT 1982 SOFTWARE LABORATORIES INC
;                  AUTHOR CAMERON L WOLFF
;
;***************************************************************************

;CODE SEGMENT

CODE_SEG           SEGMENT          PUBLIC 'CODE'

                   PUBLIC SYSCONFIG,NODR,DEST,SRCE,TRACK_NO_R,TRACK_NO_F
                   PUBLIC TRACK_NO_W,TRACK_NO_V,COL_SIZE,ACT_PAGE
                   PUBLIC MODE,ROWCOL,ATTR,C_PTR,DISK_CNT,RETRY
                   PUBLIC SC_MESS,SC_LEN,DEV_MESS,DEV_LEN,DR2_MESS1,DR2_LEN1
                   PUBLIC DR2_MESS2,DR2_LEN2,RET_MESS,RET_LEN,SRCE_MESS
                   PUBLIC SRCE_LEN,DEST_MESS,DEST_LEN,QUE_MESS1,QUE_LEN1
                   PUBLIC QUE_MESS2,QUE_LEN2,QUE_MESS3,QUE_LEN3,PROG_W_M
                   PUBLIC PROG_W_LEN,PROG_R_M,PROG_R_LEN,PROG_V_M,PROG_V_LEN
                   PUBLIC NOT_DEST_M,NOT_DEST_LEN,NOT_SRCE_M,NOT_SRCE_LEN
                   PUBLIC N_SRCE_M,N_SRCE_LEN,N_DEST_M,N_DEST_LEN,WRITE_D_M
                   PUBLIC W_D_M,WRITE_D_LEN,BAD_S_M,BAD_S_LEN,BAD_D_M,B_D_M
                   PUBLIC BAD_D_LEN,BAD_V_M,B_V_M,BAD_V_LEN,SHORT_M,SHORT_LEN
                   PUBLIC DTA_SEG,END_DATA,MEMORY_SIZE,PROG_F_M,PROG_F_LEN
                   PUBLIC BAD_F_M,BAD_F_LEN,PARAMETER_128,PARAMETER_256
                   PUBLIC PARAMETER_512,PARAMETER_1024,FORMAT_BLOCK
                   PUBLIC NUMBER_OF_FOUND_SECTORS,FORMAT_TYPE
                   PUBLIC SEARCH_SECTOR_NUMBER,SECTOR_SIZE,SECTOR_COUNTER
                   PUBLIC PROG_M_M,PROG_M_LEN
                   PUBLIC SECTOR_M,SECTOR_LEN,SEARCHING_M,SEARCHING_LEN
                   PUBLIC TRACK_NOT_F,TRACK_NOT_F_LEN,FORMAT_TYPE_128
                   PUBLIC FORMAT_TYPE_256,FORMAT_TYPE_512,FORMAT_TYPE_1024
                   PUBLIC FORMAT_LEN,FOUND_SECTOR_M,FOUND_SECTOR_LEN
                   PUBLIC TYPE_STATUS,LAST_TYPE,PARAMETER_ADDRESS,CRC_M
                   PUBLIC CRC_LEN,MESS_1_M,MESS_1_LEN,MESS_2_M,MESS_2_LEN
                   PUBLIC POSS_M,POSS_LEN,RET_M,RET_L,SECTOR_FOUND_M
                   PUBLIC SECTOR_FOUND_LEN,MAX_NUMBER_OF_FOUND_SECTORS
                   PUBLIC FOUND_SECTOR_NUMBER,LAST_COUNT,DISK_SIDE
                   PUBLIC SIDE_M,SIDE_LEN

PAGE

;PROGRAM STORAGE
;
;          VARIABLES TO BE USED BY QUICK COPY

SYSCONFIG          DW       00H ;CONTAINS THE AX REGISTER FROM INT 11H.
NODR               DB       00H ;CONTAINS THE NUMBER OF FLOPPY DRIVES.
DEST               DB       00H ;CONTAINS THE DESTINATION DRIVE.
SRCE               DB       00H ;CONTAINS THE SOURCE DRIVE.
TRACK_NO_R         DB       00H ;KEEPS TRACK OF THE LAST TRACK READ.
TRACK_NO_W         DB       00H ;KEEPS TRACK OF THE LAST TRACK WRITTEN.
TRACK_NO_V         DB       00H ;KEEPS TRACK OF THE LAST TRACK VERIFIED.
TRACK_NO_F         DB       00H ;KEEPS TRACK OF THE LAST TRACK FORMATTED
COL_SIZE           DB       00H ;NUMBER OF COLUMNS ON THE VIDEO.
ACT_PAGE           DB       00H ;CURRENT ACTIVE PAGE USED BY THE VIDEO.
MODE               DB       00H ;VIDEO MODE.
ROWCOL             DW       00H ;CONTAINS THE ROW AND COLUMN OF MESSAGES.
ATTR               DB       00H ;ATTRIBUTE (FORGROUND BACKGROUND) OF VIDEO.
C_PTR              DW       00H ;CURRENT CURSOR POSTION.
DISK_CNT           DB       00H ;DETERMINES THE NUMBER OF DISK R W AND V.
RETRY              DW       00H ;NUMBER OF RETRIES ON DISK ERRORS.
DTA_SEG            DW       00H ;CONTAINS DISK TRANSFER AREA SEGMENT VALUE.
MEMORY_SIZE        DB       00H ;USED TO DETERMINE NO. OF TRACKS TO READ.

PAGE

;SECTOR PARAMETERS

PARAMETER_128      DB       0CFH,02,25H,00,32,2AH,0FFH,50H,0F6H,19H,04

PARAMETER_256      DB       0CFH,02,25H,01,14,2AH,0FFH,50H,0F6H,19H,04

PARAMETER_512      DB       0CFH,02,25H,02,08,2AH,0FFH,50H,0F6H,19H,04

PARAMETER_1024     DB       0CFH,02,25H,03,04,2AH,0FFH,50H,0F6H,19H,04

FORMAT_BLOCK       DB 128 DUP (00)

FORMAT_TYPE                  DB       00
SEARCH_SECTOR_NUMBER         DB       00
MAX_NUMBER_OF_FOUND_SECTORS  DB       00
SECTOR_SIZE                  DW       0000
SECTOR_COUNTER               DB       00
NUMBER_OF_FOUND_SECTORS      DB       00
TYPE_STATUS                  DB       00
LAST_TYPE                    DB       00
PARAMETER_ADDRESS            DW       0000
FOUND_SECTOR_NUMBER          DB       00
LAST_COUNT                   DB       00
DISK_SIDE                    DB       00
HOW_MANY_SIDES               DB       00

PAGE

;SCREEN MESSAGES
;
;          MESSAGES DISPLAYED TO THE SCREEN. EACH MESSAGE STRING
;          IS FOLLOWED BY IT'S LENGTH. 

SC_MESS            DB       ' MASTER ',0ECH,0B7H,' KEY '
SC_LEN             DB       15

DEV_MESS           DB       ' COPYRIGHT 1982  SOFTWARE LABORATORIES INC. '
DEV_LEN            DB       2CH

DR2_MESS1          DB       'INSERT SOURCE DISKETTE IN DRIVE A'
DR2_LEN1           DB       21H

DR2_MESS2          DB       'INSERT DESTINATION DISKETTE IN DRIVE B'
DR2_LEN2           DB       26H

RET_MESS           DB       'HIT RETURN WHEN READY'
RET_LEN            DB       15H

SRCE_MESS          DB       'INSERT DISKETTE A (SOURCE)'
SRCE_LEN           DB       1AH

DEST_MESS          DB       'INSERT DISKETTE B (DESTINATION)'
DEST_LEN           DB       1FH

QUE_MESS1          DB       'DO YOU WISH TO MAKE ANOTHER COPY?'
QUE_LEN1           DB       21H

QUE_MESS2          DB       'YES TYPE  Y'
QUE_LEN2           DB       0BH

QUE_MESS3          DB       'NO TYPE  N'
QUE_LEN3           DB       0AH

PROG_M_M           DB       'MAPPING TRACK NUMBER '
PROG_M_LEN         DB       21

PROG_F_M           DB       'FORMATTING TRACK NUMBER '
PROG_F_LEN         DB       24

PROG_W_M           DB       'WRITING TRACK NUMBER '
PROG_W_LEN         DB       15H

PROG_R_M           DB       'READING TRACK NUMBER '
PROG_R_LEN         DB       15H

PROG_V_M           DB       'VERIFYING TRACK NUMBER '
PROG_V_LEN         DB       17H

SECTOR_M           DB       'SECTOR NUMBER '
SECTOR_LEN         DB       14

NOT_DEST_M     DB    'DESTINATION DRIVE NOT READY --- CORRECT PROBLEM --- '
NOT_DEST_LEN       DB       52 

NOT_SRCE_M    DB     'SOURCE DRIVE NOT READY --- CORRECT PROBLEM --- '
NOT_SRCE_LEN       DB       47 

N_SRCE_M           DB       'SOURCE DISKETTE NOT FORMATTED OR BAD TRACK'
N_SRCE_LEN         DB       2AH

N_DEST_M           DB       'DESTINATION DISKETTE NOT FORMATTED OR BAD TRACK'
N_DEST_LEN         DB       2FH

WRITE_D_M          DB       'DESTINATION DISKETTE IS WRITE PROTECTED '
W_D_M              DB       '--- CORRECT PROBLEM --- '
WRITE_D_LEN        DB       64

BAD_S_M            DB       'UNABLE TO READ SOURCE DISKETTE"S TRACK NUMBER '
BAD_S_LEN          DB       2EH

BAD_D_M            DB       'UNABLE TO WRITE DESTINATION DISKETTE"S '
B_D_M              DB       'TRACK NUMBER '
BAD_D_LEN          DB       34H

BAD_V_M            DB       'VERIFIED FAILED ON DESTINATION DISKETTE"S '
B_V_M              DB       'TRACK NUMBER '
BAD_V_LEN          DB       37H

BAD_F_M            DB       'UNABLE TO FORMAT DESTINATION DISKETTE"S '
B_F_M              DB       'TRACK NUMBER '
BAD_F_LEN          DB       35H
SHORT_M            DB       'DO YOU WISH TO CONTINUE?'
SHORT_LEN          DB       18H

TRACK_NOT_F        DB       ' TRACK NOT FORMATTED '
TRACK_NOT_F_LEN    DB       21

FORMAT_TYPE_128    DB       ' LOOKING UNDER 128 BYTES/SECTOR FORMAT '

FORMAT_TYPE_256    DB       ' LOOKING UNDER 256 BYTES/SECTOR FORMAT '

FORMAT_TYPE_512    DB       ' LOOKING UNDER 512 BYTES/SECTOR FORMAT '

FORMAT_TYPE_1024   DB       ' LOOKING UNDER 1024 BYTES/SECTOR FORMAT'

FORMAT_LEN         DB       39

SEARCHING_M        DB       ' SEARCHING FOR SECTOR NUMBER '
SEARCHING_LEN      DB       29

FOUND_SECTOR_M     DB       'FOUND SECTOR NUMBER '
FOUND_SECTOR_LEN   DB       20

; CRC ERROR MESSAGES

CRC_M      DB  ' CRC PROTECTION SCHEME MAY BE EMPLOYED '
CRC_LEN    DB  39

MESS_1_M   DB ' IF SO MASTER KEY WILL COPY DISK BUT CODE MUST '
MESS_1_LEN DB 47

MESS_2_M   DB ' BE MODIFIED IN ORDER FOR PROGRAM TO EXECUTE '
MESS_2_LEN DB 45

POSS_M     DB ' ==== OTHER POSSIBILTY ====> SECTOR MAY BE DAMAGED '
POSS_LEN   DB 51

RET_M      DB ' HIT RETURN TO CONTINUE '
RET_L      DB 24 

SECTOR_FOUND_M     DB    '-- NUMBER OF SECTORS FOUND '
SECTOR_FOUND_LEN   DB    27

SIDE_M             DB    'SIDE '
SIDE_LEN           DB    05

; COPYRIGHT AND AUTHOR NOTATION.

COPYRIGHT          DB       'COPYRIGHT 1982 SOFTWARE LABORATORIES INC.'
AUTHOR             DB       'AUTHOR CAMERON L. WOLFF'

END_DATA           DB       00H

CODE_SEG           ENDS

                   END